-- CONFIGURE THIS
local KEY_LIST_URL = "https://raw.githubusercontent.com/idkjustarandomdudeherenothingtosee/randomgithubrepodontcheckit-itdoesntmatter/refs/heads/main/justarandomfiledontlookhereitdoesntmatterthatmuch" -- Replace when ready
local MAIN_SCRIPT_URL = "https://raw.githubusercontent.com/Filipp947/light/refs/heads/main/light"

-- SERVICES
local Players = game:GetService("Players")
local HttpService = game:GetService("HttpService")
local player = Players.LocalPlayer

-- GUI SETUP
local screenGui = Instance.new("ScreenGui", player:WaitForChild("PlayerGui"))
screenGui.Name = "KeySystem"
screenGui.ResetOnSpawn = false

local mainFrame = Instance.new("Frame", screenGui)
mainFrame.Size = UDim2.new(0, 300, 0, 200)
mainFrame.Position = UDim2.new(0.5, -150, 0.5, -100)
mainFrame.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
mainFrame.BorderSizePixel = 0
mainFrame.Active = true
mainFrame.Draggable = true

-- TITLE
local title = Instance.new("TextLabel", mainFrame)
title.Size = UDim2.new(1, 0, 0, 40)
title.BackgroundTransparency = 1
title.Text = "üîë Key System"
title.TextColor3 = Color3.new(1, 1, 1)
title.TextScaled = true
title.Font = Enum.Font.SourceSansBold

-- TEXTBOX
local keyBox = Instance.new("TextBox", mainFrame)
keyBox.Position = UDim2.new(0.1, 0, 0.3, 0)
keyBox.Size = UDim2.new(0.8, 0, 0, 40)
keyBox.PlaceholderText = "Enter your key here..."
keyBox.Text = ""
keyBox.Font = Enum.Font.SourceSans
keyBox.TextSize = 18
keyBox.TextColor3 = Color3.new(1, 1, 1)
keyBox.BackgroundColor3 = Color3.fromRGB(50, 50, 50)

-- STATUS
local statusLabel = Instance.new("TextLabel", mainFrame)
statusLabel.Position = UDim2.new(0, 0, 0.65, 0)
statusLabel.Size = UDim2.new(1, 0, 0, 25)
statusLabel.BackgroundTransparency = 1
statusLabel.Text = ""
statusLabel.TextColor3 = Color3.new(1, 0.2, 0.2)
statusLabel.TextScaled = true
statusLabel.Font = Enum.Font.SourceSansBold

-- GET KEY BUTTON
local getKeyButton = Instance.new("TextButton", mainFrame)
getKeyButton.Position = UDim2.new(0.05, 0, 0.85, 0)
getKeyButton.Size = UDim2.new(0.4, 0, 0, 30)
getKeyButton.Text = "üîó Get Key"
getKeyButton.BackgroundColor3 = Color3.fromRGB(0, 120, 255)
getKeyButton.TextColor3 = Color3.new(1, 1, 1)
getKeyButton.Font = Enum.Font.SourceSansBold
getKeyButton.TextScaled = true

-- VERIFY BUTTON
local verifyButton = Instance.new("TextButton", mainFrame)
verifyButton.Position = UDim2.new(0.55, 0, 0.85, 0)
verifyButton.Size = UDim2.new(0.4, 0, 0, 30)
verifyButton.Text = "‚úÖ Verify"
verifyButton.BackgroundColor3 = Color3.fromRGB(0, 200, 100)
verifyButton.TextColor3 = Color3.new(1, 1, 1)
verifyButton.Font = Enum.Font.SourceSansBold
verifyButton.TextScaled = true

-- BUTTON FUNCTIONALITY

-- COPY LINK
getKeyButton.MouseButton1Click:Connect(function()
    setclipboard("https://your-key-link.com") -- Replace this link when you're ready
    statusLabel.Text = "üîó Link copied to clipboard!"
    statusLabel.TextColor3 = Color3.fromRGB(255, 255, 100)
end)

-- VERIFY FUNCTION
verifyButton.MouseButton1Click:Connect(function()
    local inputKey = keyBox.Text
    statusLabel.Text = "‚è≥ Verifying key..."
    statusLabel.TextColor3 = Color3.fromRGB(255, 255, 100)

    local success, response = pcall(function()
        return HttpService:JSONDecode(game:HttpGet(KEY_LIST_URL))
    end)

    if success and typeof(response) == "table" then
        local valid = false
        for _, k in pairs(response) do
            if k == inputKey then
                valid = true
                break
            end
        end

        if valid then
            statusLabel.Text = "‚úÖ Key valid! Loading..."
            statusLabel.TextColor3 = Color3.fromRGB(0, 255, 100)
            wait(1)
            screenGui:Destroy()
            loadstring(game:HttpGet(MAIN_SCRIPT_URL))()
        else
            statusLabel.Text = "‚ùå Invalid key provided!"
            statusLabel.TextColor3 = Color3.fromRGB(255, 50, 50)
        end
    else
        statusLabel.Text = "‚ö†Ô∏è Failed to fetch keys!"
        statusLabel.TextColor3 = Color3.fromRGB(255, 80, 80)
    end
end)
